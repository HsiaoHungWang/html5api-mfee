<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Template Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <style>
        .zone {
            width: 100%;
            height: 200px;
            border: 1px solid green;
        }
    </style>
</head>

<body>
    <h1>FileAPI</h1>
    <div class="zone">
        <input id="file1" type="file" />
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
        crossorigin="anonymous"></script>
    <script>
        const zone = document.querySelector('.zone');
        const myFile = document.querySelector('#file1')
        myFile.addEventListener('change', event => {
            //取得檔案物件
            const file = event.target.files[0];
            //console.log(file);
            //顯示檔案資訊
            fileInfo(file);
        })

        function fileInfo(theFile) {
            //theFile -> File物件
            //透過 console.log()，顯示檔案名稱、類型、大小及最後修改日期
            console.log(theFile.name); //檔案名稱
            console.log(theFile.type); //檔案類型
            console.log(theFile.size); //檔案大小
            //lastModified 屬性返回的是文件的最後修改時間，表示為從 1970 年 1 月 1 日 00:00:00 UTC 起的毫秒數。
            console.log(theFile.lastModified);
            console.log(formatLastModified(theFile.lastModified));

        }


        //傳入毫秒，轉成 yyyy/mm/dd hh:mm:ss 回傳
        function formatLastModified(lastModified) {
            const date = new Date(lastModified);

            const year = date.getFullYear();
            const month = (date.getMonth() + 1).toString().padStart(2, '0'); // 月份從0開始，需要加1，並補零
            const day = date.getDate().toString().padStart(2, '0'); // 補零
            const hours = date.getHours().toString().padStart(2, '0'); // 補零
            const minutes = date.getMinutes().toString().padStart(2, '0'); // 補零
            const seconds = date.getSeconds().toString().padStart(2, '0'); // 補零

            return `${year}/${month}/${day} ${hours}:${minutes}:${seconds}`;
        }

    </script>
</body>

</html>